import{clientsClaim}from"workbox-core";import{precacheAndRoute}from"workbox-precaching";import{registerRoute}from"workbox-routing";import{CacheFirst,NetworkFirst}from"workbox-strategies";clientsClaim(),precacheAndRoute(self.__WB_MANIFEST||[]),registerRoute((({request:e})=>"image"===e.destination),new CacheFirst({cacheName:"images-cache",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:50,maxAgeSeconds:2592e3})]})),registerRoute((({url:e})=>"https://your-api-domain.com"===e.origin),new NetworkFirst({cacheName:"api-cache",networkTimeoutSeconds:10,plugins:[new workbox.cacheableResponse.CacheableResponsePlugin({statuses:[0,200]}),new workbox.expiration.ExpirationPlugin({maxEntries:50,maxAgeSeconds:300})]})),self.addEventListener("push",(function(e){let i={};e.data&&(i=e.data.json());const t=i.title||"Notification",o=i.options||{body:"You have a new notification."};e.waitUntil(self.registration.showNotification(t,o))})),self.addEventListener("notificationclick",(function(e){e.notification.close(),e.waitUntil(clients.matchAll({type:"window"}).then((function(e){if(clients.openWindow)return clients.openWindow("/")})))}));